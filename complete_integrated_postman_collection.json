{
  "info": {
    "name": "Ulog Backend - å®Œæ•´APIé›†åˆ",
    "description": "æ•´åˆäº†è®¤è¯ã€ç”¨æˆ·ç®¡ç†ã€è”ç³»äººç®¡ç†ã€å¯¹è¯å¼ä¿¡æ¯æ”¶é›†å’Œç”¨æˆ·è‡ªæˆ‘ä¿¡æ¯æ”¶é›†çš„å®Œæ•´APIæµ‹è¯•é›†åˆ",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "sessionId",
      "value": "",
      "type": "string"
    },
    {
      "key": "contactId",
      "value": "",
      "type": "string"
    },
    {
      "key": "userSessionId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "ğŸ” è®¤è¯æ¨¡å—",
      "description": "ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€åˆ·æ–°tokenã€ç™»å‡º",
      "item": [
        {
          "name": "1) æ³¨å†Œç”¨æˆ·",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    console.log('âœ… ç”¨æˆ·æ³¨å†ŒæˆåŠŸ');",
                  "    const response = pm.response.json();",
                  "    console.log('ç”¨æˆ·ID:', response.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\",\n  \"password\": \"Test123456\",\n  \"name\": \"æµ‹è¯•ç”¨æˆ·\",\n  \"smsCode\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "register"]
            },
            "description": "æ³¨å†Œæ–°ç”¨æˆ·"
          }
        },
        {
          "name": "2) ç™»å½•è·å–Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.tokens) {",
                  "        pm.collectionVariables.set('accessToken', response.data.tokens.accessToken);",
                  "        pm.collectionVariables.set('refreshToken', response.data.tokens.refreshToken);",
                  "        console.log('âœ… ç™»å½•æˆåŠŸï¼ŒTokenå·²ä¿å­˜');",
                  "        console.log('Access Token:', response.data.tokens.accessToken.substring(0, 20) + '...');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\",\n  \"password\": \"Test123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "login"]
            },
            "description": "ç”¨æˆ·ç™»å½•å¹¶è·å–JWT token"
          }
        },
        {
          "name": "3) åˆ·æ–°Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "refresh"]
            },
            "description": "ä½¿ç”¨refresh tokenåˆ·æ–°access token"
          }
        },
        {
          "name": "4) ç™»å‡º",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "auth", "logout"]
            },
            "description": "ç”¨æˆ·ç™»å‡ºå¹¶å¤±æ•ˆrefresh token"
          }
        }
      ]
    },
    {
      "name": "ğŸ‘¤ ç”¨æˆ·ç®¡ç†",
      "description": "ç”¨æˆ·ä¿¡æ¯ç®¡ç†ç›¸å…³API",
      "item": [
        {
          "name": "1) è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me"]
            },
            "description": "è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯"
          }
        },
        {
          "name": "2) æ›´æ–°ç”¨æˆ·ä¿¡æ¯",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"æ›´æ–°åçš„ç”¨æˆ·å\",\n  \"description\": \"æ›´æ–°åçš„ç”¨æˆ·æè¿°\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me"]
            },
            "description": "æ›´æ–°å½“å‰ç”¨æˆ·ä¿¡æ¯"
          }
        },
        {
          "name": "3) ä¿®æ”¹å¯†ç ",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"Test123456\",\n  \"newPassword\": \"NewPassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me/password",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me", "password"]
            },
            "description": "ä¿®æ”¹ç”¨æˆ·å¯†ç "
          }
        }
      ]
    },
    {
      "name": "ğŸ“ ä¼ ç»Ÿè”ç³»äººç®¡ç†",
      "description": "ä¼ ç»Ÿçš„CRUDè”ç³»äººç®¡ç†API",
      "item": [
        {
          "name": "1) åˆ›å»ºè”ç³»äºº",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.collectionVariables.set('contactId', response.data.id);",
                  "        console.log('âœ… è”ç³»äººåˆ›å»ºæˆåŠŸï¼ŒID:', response.data.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"å¼ ä¸‰\",\n  \"description\": \"å·¥ä½œä¼™ä¼´ï¼Œå–œæ¬¢å–å’–å•¡ï¼Œä¸‹å‘¨ä¸‰åœ¨ä¸Šæµ·\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts"]
            },
            "description": "åˆ›å»ºæ–°è”ç³»äºº"
          }
        },
        {
          "name": "2) è·å–æ‰€æœ‰è”ç³»äºº",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts"]
            },
            "description": "è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰è”ç³»äºº"
          }
        },
        {
          "name": "3) è·å–è”ç³»äººè¯¦æƒ…",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts/{{contactId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts", "{{contactId}}"]
            },
            "description": "è·å–æŒ‡å®šè”ç³»äººçš„è¯¦ç»†ä¿¡æ¯"
          }
        },
        {
          "name": "4) æ›´æ–°è”ç³»äºº",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"å¼ ä¸‰ (æ›´æ–°)\",\n  \"description\": \"æ›´æ–°åçš„æè¿°ï¼šå·¥ä½œä¼™ä¼´ï¼Œå–œæ¬¢å–å’–å•¡å’ŒèŒ¶ï¼Œä¸‹å‘¨ä¸‰åœ¨ä¸Šæµ·ï¼Œè€ƒè™‘åˆä½œæ’­å®¢\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts/{{contactId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts", "{{contactId}}"]
            },
            "description": "æ›´æ–°æŒ‡å®šè”ç³»äººçš„ä¿¡æ¯"
          }
        },
        {
          "name": "5) åˆ é™¤è”ç³»äºº",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts/{{contactId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts", "{{contactId}}"]
            },
            "description": "åˆ é™¤æŒ‡å®šè”ç³»äººï¼ˆè½¯åˆ é™¤ï¼‰"
          }
        },
        {
          "name": "6) é¢„è§ˆAibook",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contactDescriptionOverride\": null,\n  \"userDescriptionOverride\": null,\n  \"language\": \"zh\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts/{{contactId}}/aibook/preview",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts", "{{contactId}}", "aibook", "preview"]
            },
            "description": "ä¸ºè”ç³»äººç”ŸæˆAIå…³ç³»æ´å¯Ÿï¼ˆaibookï¼‰"
          }
        }
      ]
    },
    {
      "name": "ğŸ¤– å¯¹è¯å¼ä¿¡æ¯æ”¶é›†",
      "description": "æ™ºèƒ½å¯¹è¯æ”¶é›†è”ç³»äººä¿¡æ¯ï¼Œæ”¯æŒå¤šè½®å¯¹è¯ã€ä¿¡æ¯ä¿®æ­£ã€é—®ç­”æ¨¡å¼",
      "item": [
        {
          "name": "å¼€å§‹æ”¶é›†",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.sessionId) {",
                  "        pm.collectionVariables.set('sessionId', response.data.sessionId);",
                  "        console.log('âœ… å¯¹è¯ä¼šè¯å¼€å§‹:', response.data.sessionId);",
                  "        console.log('ğŸ“ ç¬¬ä¸€ä¸ªé—®é¢˜:', response.data.firstQuestion);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contactName\": \"å¼ ä¸‰\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/start",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "start"]
            },
            "description": "å¼€å§‹ä¸€ä¸ªæ–°çš„ä¿¡æ¯æ”¶é›†ä¼šè¯"
          }
        },
        {
          "name": "å›ç­”é—®é¢˜-ç¬¬1è½®",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ“ ä¸‹ä¸€ä¸ªé—®é¢˜:', response.data.nextQuestion);",
                  "    console.log('ğŸ“Š è¿›åº¦:', response.data.progress + '%');",
                  "    console.log('ğŸ¯ å½“å‰ç»´åº¦:', response.data.currentDimension);",
                  "    ",
                  "    if (response.data.isCompleted && response.data.contact) {",
                  "        pm.collectionVariables.set('contactId', response.data.contact.id);",
                  "        console.log('âœ… è”ç³»äººåˆ›å»ºæˆåŠŸ:', response.data.contact.id);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"30å²å·¦å³\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "message"]
            },
            "description": "å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šå¹´é¾„"
          }
        },
        {
          "name": "å›ç­”é—®é¢˜-ç¬¬2è½®",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æ˜¯ä¸ªäº§å“ç»ç†ï¼Œåœ¨äº’è”ç½‘å…¬å¸å·¥ä½œ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "message"]
            },
            "description": "å›ç­”èŒä¸šç›¸å…³é—®é¢˜"
          }
        },
        {
          "name": "ä¿®æ­£ä¿¡æ¯",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"ä¸å¯¹ï¼Œä»–å…¶å®æ˜¯35å²\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "message"]
            },
            "description": "æµ‹è¯•ä¿¡æ¯ä¿®æ­£åŠŸèƒ½"
          }
        },
        {
          "name": "æå‰ç»“æŸ",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data.isCompleted && response.data.contact) {",
                  "        pm.collectionVariables.set('contactId', response.data.contact.id);",
                  "        console.log('âœ… è”ç³»äººåˆ›å»ºæˆåŠŸ:', response.data.contact);",
                  "        console.log('ğŸ’¬ å®Œæˆæ¶ˆæ¯:', response.data.completionMessage);",
                  "    } else if (response.data.isConfirmingEnd) {",
                  "        console.log('â“ æ­£åœ¨ç¡®è®¤ç»“æŸ...');",
                  "    } else if (response.data.needsMinimumInfo) {",
                  "        console.log('âš ï¸ éœ€è¦è¡¥å……æœ€ä½ä¿¡æ¯');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"å°±è¿™äº›å§ï¼Œä¸æƒ³ç»§ç»­äº†\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "message"]
            },
            "description": "æµ‹è¯•æå‰ç»“æŸåŠŸèƒ½"
          }
        },
        {
          "name": "æŸ¥çœ‹è¿›åº¦",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/progress",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "progress"]
            },
            "description": "æŸ¥çœ‹å½“å‰æ”¶é›†è¿›åº¦"
          }
        },
        {
          "name": "æ”¾å¼ƒä¼šè¯",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/abandon",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "abandon"]
            },
            "description": "æ”¾å¼ƒå½“å‰ä¼šè¯"
          }
        }
      ]
    },
    {
      "name": "ğŸ’¬ é—®ç­”æ¨¡å¼",
      "description": "è”ç³»äººåˆ›å»ºåçš„é—®ç­”äº¤äº’",
      "item": [
        {
          "name": "æ™ºèƒ½é—®ç­”-ç¬¬1è½®",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ“ QA Response:', response.data);",
                  "    ",
                  "    if (response.data.needsMoreInfo) {",
                  "        console.log('âš ï¸ éœ€è¦è¡¥å……ä¿¡æ¯:', response.data.supplementQuestion);",
                  "        console.log('ğŸ” åˆ†æç»“æœ:', response.data.analysis);",
                  "    } else {",
                  "        console.log('âœ… ç›´æ¥å›ç­”:', response.data.answer);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"å¼ ä¸‰å’Œæˆ‘çš„å…³ç³»å¦‚ä½•ï¼Ÿ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "message"]
            },
            "description": "æµ‹è¯•æ™ºèƒ½é—®ç­” - å¯èƒ½éœ€è¦è¡¥å……ä¿¡æ¯çš„é—®é¢˜"
          }
        },
        {
          "name": "è¡¥å……ä¿¡æ¯",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('âœ… è¡¥å……ä¿¡æ¯å®Œæˆ:', response.data.answer);",
                  "    console.log('ğŸ“Š æ˜¯å¦ä¸ºè¡¥å……å›ç­”:', response.data.isSupplementAnswer);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"supplementInfo\": \"æˆ‘ä»¬æ˜¯å¤§å­¦åŒå­¦ï¼Œç»å¸¸ä¸€èµ·è®¨è®ºæŠ€æœ¯é—®é¢˜ï¼Œå…³ç³»å¾ˆå¥½\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/supplement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "supplement"]
            },
            "description": "è¡¥å……ä¿¡æ¯ - æä¾›é¢å¤–ä¿¡æ¯åç”Ÿæˆæœ€ç»ˆå›ç­”"
          }
        },
        {
          "name": "æ™ºèƒ½é—®ç­”-ç¬¬2è½®",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('âœ… ç›´æ¥å›ç­”:', response.data.answer);",
                  "    console.log('ğŸ“Š æ˜¯å¦éœ€è¦è¡¥å……ä¿¡æ¯:', response.data.needsMoreInfo);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"å¼ ä¸‰çš„èŒä¸šæ˜¯ä»€ä¹ˆï¼Ÿ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "message"]
            },
            "description": "æµ‹è¯•æ™ºèƒ½é—®ç­” - ä¸éœ€è¦è¡¥å……ä¿¡æ¯çš„é—®é¢˜"
          }
        },
        {
          "name": "æ™ºèƒ½é—®ç­”-ç¬¬3è½®",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æˆ‘ä»¬å¹³æ—¶æ˜¯å¦‚ä½•äº’åŠ¨çš„ï¼Ÿ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "message"]
            },
            "description": "æµ‹è¯•æ™ºèƒ½é—®ç­” - å¯èƒ½éœ€è¦è¡¥å……ä¿¡æ¯çš„é—®é¢˜"
          }
        },
        {
          "name": "ç”ŸæˆAIæ€»ç»“",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/generate-summary",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "generate-summary"]
            },
            "description": "ä¸ºè”ç³»äººç”ŸæˆAIæ€»ç»“"
          }
        },
        {
          "name": "ç»“æŸä¼šè¯",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/end",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "end"]
            },
            "description": "ç»“æŸé—®ç­”ä¼šè¯"
          }
        }
      ]
    },
    {
      "name": "ğŸš€ å®Œæ•´æµç¨‹æµ‹è¯•",
      "description": "ç«¯åˆ°ç«¯çš„å®Œæ•´æµ‹è¯•æµç¨‹",
      "item": [
        {
          "name": "å®Œæ•´æµç¨‹-å¼€å§‹å¯¹è¯",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('sessionId', response.data.sessionId);",
                  "    console.log('ğŸš€ å®Œæ•´æµç¨‹å¼€å§‹ï¼ŒSession ID:', response.data.sessionId);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"contactName\": \"æå››\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/start",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "start"]
            }
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-å¤šè½®å¯¹è¯",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// æ¨¡æ‹Ÿå¤šè½®å¯¹è¯",
                  "const answers = [",
                  "    '28å²',",
                  "    'è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œåœ¨åˆ›ä¸šå…¬å¸',",
                  "    'å¤§å­¦åŒå­¦',",
                  "    'æˆ‘ä»¬æ¯å‘¨éƒ½ä¼šèŠå¤©ï¼Œå…³ç³»å¾ˆå¥½',",
                  "    'å°±è¿™äº›å§'",
                  "];",
                  "",
                  "const currentRound = pm.collectionVariables.get('currentRound') || 0;",
                  "pm.request.body.raw = JSON.stringify({",
                  "    message: answers[currentRound]",
                  "});",
                  "pm.collectionVariables.set('currentRound', currentRound + 1);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('Response:', response.data);",
                  "    ",
                  "    if (response.data.isCompleted) {",
                  "        pm.collectionVariables.set('contactId', response.data.contact.id);",
                  "        console.log('âœ… è”ç³»äººåˆ›å»ºæˆåŠŸï¼');",
                  "        pm.collectionVariables.set('currentRound', 0);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"åŠ¨æ€è®¾ç½®\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/collect/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "collect", "{{sessionId}}", "message"]
            },
            "description": "å¤šæ¬¡è¿è¡Œæ­¤è¯·æ±‚ä»¥æ¨¡æ‹Ÿå®Œæ•´å¯¹è¯æµç¨‹"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-æŸ¥çœ‹åˆ›å»ºçš„è”ç³»äºº",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/contacts/{{contactId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "contacts", "{{contactId}}"]
            },
            "description": "æŸ¥çœ‹é€šè¿‡å¯¹è¯åˆ›å»ºçš„è”ç³»äºº"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-QAæ™ºèƒ½é—®ç­”",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ¤– QAæ™ºèƒ½é—®ç­”å“åº”:', response.data);",
                  "    ",
                  "    if (response.data.needsMoreInfo) {",
                  "        console.log('âš ï¸ éœ€è¦è¡¥å……ä¿¡æ¯ï¼Œè¯·è¿è¡Œè¡¥å……ä¿¡æ¯è¯·æ±‚');",
                  "    } else {",
                  "        console.log('âœ… ç›´æ¥å›ç­”å®Œæˆ');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æå››å’Œæˆ‘çš„å…³ç³»å¦‚ä½•ï¼Ÿæˆ‘ä»¬å¹³æ—¶æ˜¯æ€ä¹ˆç›¸å¤„çš„ï¼Ÿ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "message"]
            },
            "description": "å®Œæ•´æµç¨‹æµ‹è¯• - QAæ™ºèƒ½é—®ç­”"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-è¡¥å……ä¿¡æ¯",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('âœ… è¡¥å……ä¿¡æ¯å®Œæˆï¼Œæœ€ç»ˆå›ç­”:', response.data.answer);",
                  "    console.log('ğŸ“Š æ˜¯å¦ä¸ºè¡¥å……å›ç­”:', response.data.isSupplementAnswer);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"supplementInfo\": \"æˆ‘ä»¬æ˜¯åŒäº‹å…³ç³»ï¼Œå¹³æ—¶ç»å¸¸ä¸€èµ·åƒé¥­èŠå¤©ï¼Œä¹Ÿä¼šè®¨è®ºå·¥ä½œä¸Šçš„é—®é¢˜ï¼Œå…³ç³»æ¯”è¾ƒèæ´½\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/supplement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "supplement"]
            },
            "description": "å®Œæ•´æµç¨‹æµ‹è¯• - è¡¥å……ä¿¡æ¯"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-ç”ŸæˆAIæ€»ç»“",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ¯ AIæ€»ç»“ç”Ÿæˆå®Œæˆ:', response.data);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/conversation/qa/{{sessionId}}/generate-summary",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "conversation", "qa", "{{sessionId}}", "generate-summary"]
            },
            "description": "å®Œæ•´æµç¨‹æµ‹è¯• - ç”ŸæˆAIæ€»ç»“"
          }
        }
      ]
    },
    {
      "name": "ğŸ‘¤ ç”¨æˆ·è‡ªæˆ‘ä¿¡æ¯æ”¶é›†",
      "description": "ç”¨æˆ·é€šè¿‡å¯¹è¯æ”¶é›†è‡ªå·±çš„ä¸ªäººä¿¡æ¯ï¼Œæ›´æ–°User.description",
      "item": [
        {
          "name": "å¼€å§‹ç”¨æˆ·è‡ªæˆ‘æ”¶é›†",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.sessionId) {",
                  "        pm.collectionVariables.set('userSessionId', response.data.sessionId);",
                  "        console.log('âœ… ç”¨æˆ·è‡ªæˆ‘ä¿¡æ¯æ”¶é›†ä¼šè¯å¼€å§‹:', response.data.sessionId);",
                  "        console.log('ğŸ“ ç¬¬ä¸€ä¸ªé—®é¢˜:', response.data.firstQuestion);",
                  "        console.log('ğŸ’¬ æç¤º:', response.data.message);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/start",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "start"]
            },
            "description": "å¼€å§‹ç”¨æˆ·è‡ªæˆ‘ä¿¡æ¯æ”¶é›†ä¼šè¯"
          }
        },
        {
          "name": "å›ç­”é—®é¢˜-ç¬¬1è½®(å¹´é¾„)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ“ ä¸‹ä¸€ä¸ªé—®é¢˜:', response.data.nextQuestion);",
                  "    console.log('ğŸ“Š è¿›åº¦:', response.data.progress + '%');",
                  "    console.log('ğŸ¯ å½“å‰ç»´åº¦:', response.data.currentDimension);",
                  "    ",
                  "    if (response.data.isCompleted) {",
                  "        console.log('âœ… ä¿¡æ¯æ”¶é›†å®Œæˆ!');",
                  "        console.log('ğŸ“„ æ›´æ–°åçš„æè¿°:', response.data.updatedDescription);",
                  "        console.log('ğŸ‰ å¯ä»¥è¿›å…¥QAæ¨¡å¼äº†!');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"30å²\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "å›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šå¹´é¾„"
          }
        },
        {
          "name": "å›ç­”é—®é¢˜-ç¬¬2è½®(èŒä¸š)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æˆ‘æ˜¯ä¸€åäº§å“ç»ç†ï¼Œåœ¨äº’è”ç½‘å…¬å¸å·¥ä½œ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "å›ç­”èŒä¸šç›¸å…³é—®é¢˜"
          }
        },
        {
          "name": "å›ç­”é—®é¢˜-ç¬¬3è½®(æ•™è‚²)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æœ¬ç§‘æ¯•ä¸šï¼Œè®¡ç®—æœºä¸“ä¸š\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "å›ç­”æ•™è‚²èƒŒæ™¯é—®é¢˜"
          }
        },
        {
          "name": "ä¿®æ­£ä¿¡æ¯",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"ä¸å¯¹ï¼Œæˆ‘å…¶å®æ˜¯32å²\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "æµ‹è¯•ä¿¡æ¯ä¿®æ­£åŠŸèƒ½"
          }
        },
        {
          "name": "æå‰ç»“æŸ",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data.isCompleted) {",
                  "        console.log('âœ… ç”¨æˆ·ä¿¡æ¯æ”¶é›†å®Œæˆ!');",
                  "        console.log('ğŸ“„ è‡ªæˆ‘æè¿°:', response.data.updatedDescription);",
                  "        console.log('ğŸ’¬ å®Œæˆæ¶ˆæ¯:', response.data.completionMessage);",
                  "        console.log('ğŸ¯ ä¸‹ä¸€æ­¥:', response.data.nextMode);",
                  "    } else if (response.data.isConfirmingEnd) {",
                  "        console.log('â“ æ­£åœ¨ç¡®è®¤ç»“æŸ...');",
                  "    } else if (response.data.needsMinimumInfo) {",
                  "        console.log('âš ï¸ éœ€è¦è¡¥å……æœ€ä½ä¿¡æ¯');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"å°±è¿™äº›å§ï¼Œç»“æŸé—®å·\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "æµ‹è¯•æå‰ç»“æŸåŠŸèƒ½"
          }
        },
        {
          "name": "ç¡®è®¤ç»“æŸ",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    if (response.data.isCompleted) {",
                  "        console.log('âœ… ç”¨æˆ·ä¿¡æ¯æ”¶é›†å®Œæˆ!');",
                  "        console.log('ğŸ“„ è‡ªæˆ‘æè¿°:', response.data.updatedDescription);",
                  "        console.log('ğŸ¯ è¿›å…¥QAæ¨¡å¼:', response.data.nextMode);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æ˜¯\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "ç¡®è®¤ç»“æŸä¿¡æ¯æ”¶é›†"
          }
        },
        {
          "name": "æŸ¥çœ‹è¿›åº¦",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/progress",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "progress"]
            },
            "description": "æŸ¥çœ‹å½“å‰æ”¶é›†è¿›åº¦"
          }
        },
        {
          "name": "æ”¾å¼ƒä¼šè¯",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/abandon",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "abandon"]
            },
            "description": "æ”¾å¼ƒå½“å‰ä¼šè¯"
          }
        }
      ]
    },
    {
      "name": "ğŸ¤” ç”¨æˆ·è‡ªæˆ‘QAæ¨¡å¼",
      "description": "ç”¨æˆ·ä¿¡æ¯æ”¶é›†å®Œæˆåï¼ŒåŸºäºè‡ªæˆ‘æè¿°è¿›è¡Œé—®ç­”",
      "item": [
        {
          "name": "è‡ªæˆ‘QA-ç¬¬1è½®",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ“ QA Response:', response.data);",
                  "    ",
                  "    if (response.data.needsMoreInfo) {",
                  "        console.log('âš ï¸ éœ€è¦è¡¥å……ä¿¡æ¯:', response.data.followUpQuestion);",
                  "    } else {",
                  "        console.log('âœ… ç›´æ¥å›ç­”:', response.data.answer);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"æˆ‘çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "message"]
            },
            "description": "æµ‹è¯•è‡ªæˆ‘é—®ç­”"
          }
        },
        {
          "name": "è‡ªæˆ‘QA-ç¬¬2è½®",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"åˆ†ææˆ‘çš„æ€§æ ¼ç‰¹ç‚¹\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "message"]
            },
            "description": "æµ‹è¯•è‡ªæˆ‘é—®ç­” - æ€§æ ¼åˆ†æ"
          }
        },
        {
          "name": "è‡ªæˆ‘QA-ç¬¬3è½®",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"ç»™æˆ‘ä¸€äº›ä¸ªäººå‘å±•å»ºè®®\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "message"]
            },
            "description": "æµ‹è¯•è‡ªæˆ‘é—®ç­” - ä¸ªäººå‘å±•å»ºè®®"
          }
        },
        {
          "name": "è¡¥å……ä¿¡æ¯",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('âœ… è¡¥å……ä¿¡æ¯å®Œæˆ:', response.data.answer);",
                  "    console.log('ğŸ“Š çŠ¶æ€:', response.data.status);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"supplementInfo\": \"æˆ‘æ“…é•¿Pythonå’ŒJavaç¼–ç¨‹ï¼Œå–œæ¬¢è§£å†³å¤æ‚çš„æŠ€æœ¯é—®é¢˜ï¼Œå›¢é˜Ÿåä½œèƒ½åŠ›å¼º\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/supplement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "supplement"]
            },
            "description": "è¡¥å……ä¿¡æ¯ - æä¾›é¢å¤–ä¿¡æ¯"
          }
        },
        {
          "name": "ç”ŸæˆAIæ€»ç»“",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ¯ AIæ€»ç»“:', response.data);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/generate-summary",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "generate-summary"]
            },
            "description": "ä¸ºç”¨æˆ·è‡ªæˆ‘æè¿°ç”ŸæˆAIæ€»ç»“"
          }
        },
        {
          "name": "ç»“æŸä¼šè¯",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/end",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "end"]
            },
            "description": "ç»“æŸç”¨æˆ·è‡ªæˆ‘QAä¼šè¯"
          }
        }
      ]
    },
    {
      "name": "ğŸš€ ç”¨æˆ·è‡ªæˆ‘å®Œæ•´æµç¨‹æµ‹è¯•",
      "description": "ç«¯åˆ°ç«¯çš„ç”¨æˆ·è‡ªæˆ‘ä¿¡æ¯æ”¶é›†å’ŒQAå®Œæ•´æµç¨‹",
      "item": [
        {
          "name": "å®Œæ•´æµç¨‹-å¼€å§‹ç”¨æˆ·è‡ªæˆ‘æ”¶é›†",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('userSessionId', response.data.sessionId);",
                  "    console.log('ğŸš€ ç”¨æˆ·è‡ªæˆ‘ä¿¡æ¯æ”¶é›†å¼€å§‹ï¼ŒSession ID:', response.data.sessionId);",
                  "    console.log('ğŸ“ ç¬¬ä¸€ä¸ªé—®é¢˜:', response.data.firstQuestion);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/start",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "start"]
            }
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-å¤šè½®å¯¹è¯",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "// æ¨¡æ‹Ÿå¤šè½®å¯¹è¯",
                  "const answers = [",
                  "    '32å²',",
                  "    'äº§å“ç»ç†ï¼Œäº’è”ç½‘åˆ›ä¸šå…¬å¸',",
                  "    'ç¡•å£«ï¼ŒåŒ—äº¬å¤§å­¦è®¡ç®—æœºä¸“ä¸š',",
                  "    'åŒ—äº¬',",
                  "    'æ€§æ ¼å¼€æœ—ï¼Œå–œæ¬¢ä¸äººäº¤æµ',",
                  "    'å°±è¿™äº›å§'",
                  "];",
                  "",
                  "const currentRound = pm.collectionVariables.get('userCurrentRound') || 0;",
                  "pm.request.body.raw = JSON.stringify({",
                  "    message: answers[currentRound]",
                  "});",
                  "pm.collectionVariables.set('userCurrentRound', currentRound + 1);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('Progress:', response.data.progress + '%');",
                  "    console.log('Response:', response.data);",
                  "    ",
                  "    if (response.data.isCompleted) {",
                  "        console.log('âœ… ç”¨æˆ·ä¿¡æ¯æ”¶é›†å®Œæˆï¼');",
                  "        console.log('ğŸ“„ è‡ªæˆ‘æè¿°:', response.data.updatedDescription);",
                  "        pm.collectionVariables.set('userCurrentRound', 0);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"åŠ¨æ€è®¾ç½®\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/collect/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "collect", "{{userSessionId}}", "message"]
            },
            "description": "å¤šæ¬¡è¿è¡Œæ­¤è¯·æ±‚ä»¥æ¨¡æ‹Ÿå®Œæ•´å¯¹è¯æµç¨‹"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/v1/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "users", "me"]
            },
            "description": "æŸ¥çœ‹æ›´æ–°åçš„ç”¨æˆ·ä¿¡æ¯"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-è‡ªæˆ‘QAé—®ç­”",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ¤– è‡ªæˆ‘QAé—®ç­”å“åº”:', response.data);",
                  "    ",
                  "    if (response.data.needsMoreInfo) {",
                  "        console.log('âš ï¸ éœ€è¦è¡¥å……ä¿¡æ¯ï¼Œè¯·è¿è¡Œè¡¥å……ä¿¡æ¯è¯·æ±‚');",
                  "    } else {",
                  "        console.log('âœ… ç›´æ¥å›ç­”å®Œæˆ');",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"åŸºäºæˆ‘çš„èƒŒæ™¯ï¼Œç»™æˆ‘ä¸€äº›èŒä¸šå‘å±•å»ºè®®\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/message",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "message"]
            },
            "description": "å®Œæ•´æµç¨‹æµ‹è¯• - è‡ªæˆ‘QAé—®ç­”"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-è¡¥å……ä¿¡æ¯",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('âœ… è¡¥å……ä¿¡æ¯å®Œæˆï¼Œç­”æ¡ˆ:', response.data.answer);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"supplementInfo\": \"æˆ‘æœ‰5å¹´äº§å“ç»éªŒï¼Œæ“…é•¿Bç«¯äº§å“è®¾è®¡ï¼Œå¸Œæœ›æœªæ¥å‘äº§å“æ€»ç›‘æ–¹å‘å‘å±•\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/supplement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "supplement"]
            },
            "description": "å®Œæ•´æµç¨‹æµ‹è¯• - è¡¥å……ä¿¡æ¯"
          }
        },
        {
          "name": "å®Œæ•´æµç¨‹-ç”ŸæˆAIæ€»ç»“",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    console.log('ğŸ¯ AIæ€»ç»“ç”Ÿæˆå®Œæˆ:', response.data);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/user-conversation/qa/{{userSessionId}}/generate-summary",
              "host": ["{{baseUrl}}"],
              "path": ["api", "v1", "user-conversation", "qa", "{{userSessionId}}", "generate-summary"]
            },
            "description": "å®Œæ•´æµç¨‹æµ‹è¯• - ç”ŸæˆAIæ€»ç»“"
          }
        }
      ]
    }
  ]
}
